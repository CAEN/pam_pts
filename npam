
#ifdef USE_PAM_ACCT_MGMT
#include <security/pam_appl.h>
static int
PAM_conv(int num_msg,
    struct pam_message **msg,
    struct pam_response **resp,
    void *appdata_ptr)
{
    int replies = 0;
    struct pam_response *reply = NULL;

    reply = (struct pam_response *) malloc(sizeof (struct pam_response) *
        num_msg);

    if (!reply) return PAM_CONV_ERR;

    /* ignore all messages */
    for (replies = 0; replies < num_msg; replies++) {
        reply[replies].resp_retcode = PAM_SUCCESS;
        reply[replies].resp = NULL;
    }

    *resp = reply;
    return PAM_SUCCESS;
}
